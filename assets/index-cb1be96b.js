import{u as d}from"./settings-5b62ca94.js";import{d as V,r as b,$ as h,f as E,H as s,I as R,U as _,S as l,N as e,c as m,J as T,a3 as $,R as p,a4 as D,M as I,F as M}from"./vue-75e8b9c9.js";import{E as U,F as j,S as H,an as J}from"./naiveUI-f01950d5.js";import{b as K}from"./index-eb9c1f53.js";import"./lodash-08e39b5f.js";import"./ionicons5-84883516.js";const q=["textContent"],z=V({__name:"index",setup(A){const{getSettingsFile:f,saveSettingsFile:y,getSettingsToml:r,setContent:g,testNotify:x}=d(),t=b(!1),{treeData:k,content:n}=h(d());E(async()=>{await r()});let c="";const v=async a=>{await f("ptools.toml"),t.value=a,a?c=`${n.value}`:n.value!==c&&await g(c)},C=async()=>{await y("ptools.toml"),t.value=!1,await r()},w=a=>a.index,S=[{type:"selection"},{title:"配置项名称",key:"index"},{title:"值",key:"name"}];return(a,o)=>{const i=U,F=j,N=H,B=J;return s(),R(M,null,[_(F,{justify:"end"},{default:l(()=>[_(i,{type:"primary",secondaryc:"",onClick:e(x)},{default:l(()=>[m(" 通知测试 ")]),_:1},8,["onClick"]),_(i,{type:e(t)?"warning":"primary",onClick:o[0]||(o[0]=u=>v(!e(t)))},{default:l(()=>[T("span",{textContent:$(e(t)?"取消":"编辑")},null,8,q)]),_:1},8,["type"]),e(t)?(s(),p(i,{key:0,type:"success",onClick:C},{default:l(()=>[m(" 保存 ")]),_:1})):D("",!0)]),_:1}),e(t)?(s(),p(N,{key:0,value:e(n),"onUpdate:value":o[1]||(o[1]=u=>I(n)?n.value=u:null),class:"code mt-2",type:"textarea",placeholder:""},null,8,["value"])):(s(),p(B,{key:1,columns:S,data:e(k).children,"row-key":w,"default-expand-all":""},null,8,["data"]))],64)}}});const X=K(z,[["__scopeId","data-v-a06cf2d6"]]);export{X as default};
