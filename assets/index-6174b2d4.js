import{H as N}from"./core-819a266d.js";import{a as S,b as $,c as k,d as R}from"./tools-89b4a904.js";import{W as j,r as t,d as E,$ as F,f as M,I as q,J as B,U as g,S as v,O as a,N as H,c as I,F as J}from"./vue-723f4797.js";import{Q as T,E as U,F as V,as as O}from"./naiveUI-7e00e3d3.js";import{b as Q}from"./index-3acd25b9.js";import"./lodash-7fc59f31.js";import"./ionicons5-ebd6f9ad.js";const W=j("logs",()=>{const s=t([]),l=t(),e=t("logs.log"),_=t(""),o=t(!1),c=t([{label:"请选择"}]),r=async()=>{s.value=await S(),s.value.forEach(n=>{c.value.push({label:n,value:n})})},u=async n=>{o.value=!0,_.value=await $(n),o.value=!1};return{names:s,content:l,currentLog:e,currentLogContent:_,logList:c,loading:o,getNames:r,getLogContent:u,downloadLog:async()=>{await k(e.value)},removeLog:async()=>{o.value=!0,await R(e.value)&&(await r(),e.value="logs.log",await u(e.value)),o.value=!1}}}),z=E({__name:"index",setup(s){const l=W(),{names:e,content:_,currentLog:o,logList:c,loading:r,currentLogContent:u}=F(l),{getNames:p,getLogContent:i,downloadLog:n,removeLog:f}=l;M(async()=>{await p(),await i(o.value)});const L=async d=>{d==="top"&&await i(o.value)},w=async()=>{await i(o.value)};return(d,m)=>{const x=T,h=U,y=V,C=O;return q(),B(J,null,[g(y,{justify:"start",class:"px pt-5px mb-2px"},{default:v(()=>[g(x,{value:a(o),"onUpdate:value":[m[0]||(m[0]=b=>H(o)?o.value=b:null),w],options:a(c),style:{"min-width":"50vw"}},null,8,["value","options"]),g(h,{type:"error",onClick:a(f)},{default:v(()=>[I(" 删除 ")]),_:1},8,["onClick"])]),_:1}),g(C,{loading:a(r),log:a(u),rows:40,hljs:a(N),class:"px mt-2 code","line-height":2,onRequireMore:L},null,8,["loading","log","hljs"])],64)}}});const Z=Q(z,[["__scopeId","data-v-5e2ec4ed"]]);export{Z as default};
