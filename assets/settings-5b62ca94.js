import{k as g,l as S,m as d,j as h}from"./index-eb9c1f53.js";import{W as v,r as a}from"./vue-75e8b9c9.js";const{message:e}=h(),T=async()=>await g("config/system"),m=async n=>await g("config/config",n),p=async n=>{const{msg:s,code:o}=await S("/config/notify/test",n);switch(o){case 0:return e==null||e.success("通知发送成功！"),!0;default:return e==null||e.error(s),!1}},F=async n=>{const{msg:s,code:o}=await d("config/config",n);switch(o){case 0:return e==null||e.success(s),!0;default:return e==null||e.error(s),!1}},j=v("settings",()=>{const n=a({index:"root",name:"Root",children:[]}),s=a(""),o=a({title:"NewPTools测试标题",message:"NewPTools测试消息，欢迎使用PTOOLS，玩得开心！"}),r=(t,i)=>{i.children.length=0;for(const c in t){const u={index:c,name:typeof t[c]=="object"?"":t[c],children:[]};i.children.push(u),typeof t[c]=="object"&&r(t[c],u)}},y=async()=>{const t=await T();r(t,n.value)},w=async()=>{await p(o.value)},l=async t=>{s.value=t},f=async t=>{await l(await m({name:t}))};return{getSettingsToml:y,getSettingsFile:f,saveSettingsFile:async t=>{await F({name:t,content:s.value})&&await f(t)},setContent:l,testNotify:w,testMessage:o,content:s,treeData:n}});export{j as u};
