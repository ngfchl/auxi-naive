import{c as U,j as V,d as D,b as E}from"./index-b058b0c9.js";import{u as m}from"./settings-cfc76800.js";import{d as R,r as T,$ as j,f as z,I as l,J as I,U as u,S as c,O as t,c as f,K,a3 as G,R as r,a4 as J,N as M,F as O,l as y}from"./vue-891544a6.js";import{E as p,U as P,F as q,S as A,an as H}from"./naiveUI-1b6e103f.js";import"./lodash-bf6380e1.js";import"./ionicons5-46c5ca5d.js";const L=["textContent"],Q=R({__name:"index",setup(W){const{message:o}=D(),{getSettingsFile:v,saveSettingsFile:k,getSettingsToml:_,setContent:g,testNotify:x}=m(),n=T(!1),{treeData:C,content:s}=j(m());z(async()=>{await _()});let i="";const S=async e=>{await v("ptools.toml"),n.value=e,e?i=`${s.value}`:s.value!==i&&await g(i)},h=async()=>{await k("ptools.toml"),n.value=!1,await _()},w=e=>e.name,N=e=>({onDblclick:async a=>{o==null||o.info(e)}}),F=[{type:"selection",multiple:!1},{title:"配置项名称",key:"name"},{title:"值",key:"value",ellipsis:{tooltip:!0},render(e){switch(typeof e.value){case"boolean":return y(P,{size:"small",round:!1,value:e.value,"rail-style":V,"onUpdate:value":async a=>{o==null||o.info(`${e.name} 当前状态为：${a?"关闭":"开启"}`)}},{checked:()=>e.value,unchecked:()=>e.value,"checked-icon":()=>"✅","unchecked-icon":()=>y(U,{icon:"CloseSharp",color:"red",size:16})});default:return e.value}}}];return(e,a)=>{const $=q,b=A,B=H;return l(),I(O,null,[u($,{justify:"end"},{default:c(()=>[u(t(p),{type:"primary",secondaryc:"",onClick:t(x)},{default:c(()=>[f(" 通知测试 ")]),_:1},8,["onClick"]),u(t(p),{type:t(n)?"warning":"primary",onClick:a[0]||(a[0]=d=>S(!t(n)))},{default:c(()=>[K("span",{textContent:G(t(n)?"取消":"编辑")},null,8,L)]),_:1},8,["type"]),t(n)?(l(),r(t(p),{key:0,type:"success",onClick:h},{default:c(()=>[f(" 保存 ")]),_:1})):J("",!0)]),_:1}),t(n)?(l(),r(b,{key:0,value:t(s),"onUpdate:value":a[1]||(a[1]=d=>M(s)?s.value=d:null),class:"code mt-2",type:"textarea",placeholder:""},null,8,["value"])):(l(),r(B,{key:1,columns:F,data:t(C).children,"row-key":w,"row-props":N,"default-expand-all":""},null,8,["data"]))],64)}}});const ae=E(Q,[["__scopeId","data-v-ec904d16"]]);export{ae as default};
