import{g as B,j as U,k as V,b as E}from"./index-f8eea4c2.js";import{u as m}from"./settings-0f49cfbc.js";import{d as R,r as T,$ as j,f as z,H as o,I as D,U as u,S as l,N as t,c as f,J as I,a3 as M,R as r,a4 as G,M as H,F as J,l as y}from"./vue-95e91526.js";import{E as _,U as K,F as q,S as A,an as L}from"./naiveUI-7723b9a5.js";import"./lodash-00189e46.js";import"./ionicons5-12752ee5.js";const O=["textContent"],P=R({__name:"index",setup(Q){const{message:c}=V(),{getSettingsFile:v,saveSettingsFile:k,getSettingsToml:p,setContent:g,testNotify:x}=m(),a=T(!1),{treeData:C,content:s}=j(m());z(async()=>{await p()});let i="";const S=async e=>{await v("ptools.toml"),a.value=e,e?i=`${s.value}`:s.value!==i&&await g(i)},h=async()=>{await k("ptools.toml"),a.value=!1,await p()},N=e=>e.name,w=[{title:"配置项名称",key:"name"},{title:"值",key:"value",ellipsis:{tooltip:!0},render(e){switch(typeof e.value){case"boolean":return y(K,{size:"small",round:!1,value:e.value,"rail-style":U,"onUpdate:value":async n=>{c==null||c.info(`${e.name} 当前状态为：${n?"关闭":"开启"}`)}},{checked:()=>e.value,unchecked:()=>e.value,"checked-icon":()=>"✅","unchecked-icon":()=>y(B,{icon:"CloseSharp",color:"red",size:16})});default:return e.value}}}];return(e,n)=>{const F=q,$=A,b=L;return o(),D(J,null,[u(F,{justify:"end"},{default:l(()=>[u(t(_),{type:"primary",secondaryc:"",onClick:t(x)},{default:l(()=>[f(" 通知测试 ")]),_:1},8,["onClick"]),u(t(_),{type:t(a)?"warning":"primary",onClick:n[0]||(n[0]=d=>S(!t(a)))},{default:l(()=>[I("span",{textContent:M(t(a)?"取消":"编辑")},null,8,O)]),_:1},8,["type"]),t(a)?(o(),r(t(_),{key:0,type:"success",onClick:h},{default:l(()=>[f(" 保存 ")]),_:1})):G("",!0)]),_:1}),t(a)?(o(),r($,{key:0,value:t(s),"onUpdate:value":n[1]||(n[1]=d=>H(s)?s.value=d:null),class:"code mt-2",type:"textarea",placeholder:""},null,8,["value"])):(o(),r(b,{key:1,columns:w,data:t(C).children,"row-key":N,"default-expand-all":""},null,8,["data"]))],64)}}});const ae=E(P,[["__scopeId","data-v-5a8c5496"]]);export{ae as default};
